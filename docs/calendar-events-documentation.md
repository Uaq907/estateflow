# ๐ ุฏููู ุฃุญุฏุงุซ ุงูุชูููู - Calendar Events Guide

## ูุธุฑุฉ ุนุงูุฉ
ูุนุฑุถ ุงูุชูููู 5 ุฃููุงุน ูู ุงูุฃุญุฏุงุซุ ูู ููุน ูู ุฃููููุฉ ูููู ูุชูุงุตูู ุฎุงุตุฉ ุจู.

---

## ๐ฏ ุฃููุงุน ุงูุฃุญุฏุงุซ (Event Types)

### 1๏ธโฃ ุฃุญุฏุงุซ ุงูุฅูุฌุงุฑ (Lease Events)
**ุงูุฃููููุฉ:** ๐ FileSignature  
**ุงูููู:** ุฃุฒุฑู (bg-blue-500)  
**ุงูููุน ูู ุงูููุฏ:** `lease`

#### ุฃ) ุจุฏุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ (Lease Start)

**ุงูุนููุงู ุงููุชุฑุฌู:**
- ๐ฆ๐ช `ุจุฏุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ`
- ๐ฌ๐ง `Lease Start`

**ุงูุชูุงุตูู ุงููุนุฑูุถุฉ:**
```
ุงุณู ุงูุนูุงุฑ - ููุน ุงููุณุชุฃุฌุฑ: ุงุณู ุงููุณุชุฃุฌุฑ/ุตุงุญุจ ุงูุฑุฎุตุฉ
```

**ูุซุงู (ุณููู):**
```
ุจุฏุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
ูููุง ุงูุดุงุทุฆ ุงูุฐูุจู - ูุณุชุฃุฌุฑ: ูุญูุฏ ุนุจุฏุงููู ุงูุนุชูุจู
[ุฅูุฌุงุฑ] 00:00
```

**ูุซุงู (ุชุฌุงุฑู):**
```
ุจุฏุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
ุจุฑุฌ ุงููุฎูู - ุตุงุญุจ ุฑุฎุตุฉ ุชุฌุงุฑูุฉ: ุดุฑูุฉ ุงูุฃูู ููุชุฌุงุฑุฉ
[ุฅูุฌุงุฑ] 00:00
```

**ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
SELECT 
    l.id, l.startDate, l.businessName,
    p.name as propertyName, p.type as propertyType,
    t.name as tenantName
FROM leases l
JOIN units u ON l.unitId = u.id
JOIN properties p ON u.propertyId = p.id
JOIN tenants t ON l.tenantId = t.id
```

---

#### ุจ) ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ (Lease End)

**ุงูุนููุงู ุงููุชุฑุฌู:**
- ๐ฆ๐ช `ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ`
- ๐ฌ๐ง `Lease End`

**ุงูุชูุงุตูู ุงููุนุฑูุถุฉ:**
```
ุงุณู ุงูุนูุงุฑ - ููุน ุงููุณุชุฃุฌุฑ: ุงุณู ุงููุณุชุฃุฌุฑ/ุตุงุญุจ ุงูุฑุฎุตุฉ
ุงููุชุฃุฎุฑุงุช: AED XXX  (ูุธูุฑ ููุท ุฅุฐุง ูุงูุช ุงููุชุฃุฎุฑุงุช > 0)
```

**ูุซุงู (ุจุฏูู ูุชุฃุฎุฑุงุช):**
```
ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
ุดูุฉ ุงูุจุญุฑ - ูุณุชุฃุฌุฑ: ุฃุญูุฏ ุณุนูุฏ ุงููุฑู
[ุฅูุฌุงุฑ] 00:00
```

**ูุซุงู (ูุน ูุชุฃุฎุฑุงุช):**
```
ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
ูููุง ุงูุดุงุทุฆ ุงูุฐูุจู - ูุณุชุฃุฌุฑ: ูุญูุฏ ุนุจุฏุงููู ุงูุนุชูุจู
ุงููุชุฃุฎุฑุงุช: AED 5,000
[ุฅูุฌุงุฑ] 00:00
```

**ุญุณุงุจ ุงููุชุฃุฎุฑุงุช:**
```sql
COALESCE(SUM(
    CASE WHEN lp.status != 'Paid' AND lp.dueDate < CURDATE() 
    THEN lp.amount ELSE 0 END
), 0) as arrears
FROM lease_payments lp
WHERE lp.leaseId = l.id
```

**ุฑุงุจุท ุงูุชูุงุตูู:** `/dashboard/leases/{leaseId}`

---

### 2๏ธโฃ ุฏูุนุงุช ุงูุฅูุฌุงุฑ ุงููุณุชุญูุฉ (Payment Due)
**ุงูุฃููููุฉ:** ๐ฐ Banknote  
**ุงูููู:** ุฃุฎุถุฑ (bg-green-500)  
**ุงูููุน ูู ุงูููุฏ:** `payment`

**ุงูุนููุงู ุงููุชุฑุฌู:**
- ๐ฆ๐ช `ุฏูุนุฉ ูุณุชุญูุฉ`
- ๐ฌ๐ง `Payment Due`

**ุงูุชูุงุตูู ุงููุนุฑูุถุฉ:**
```
Amount: AED XXX
```

**ูุซุงู:**
```
ุฏูุนุฉ ูุณุชุญูุฉ
Amount: AED 5,000
[ุฏูุนุฉ] 09:00
```

**ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
SELECT 
    id, leaseId, dueDate, amount
FROM lease_payments
WHERE status != 'Paid'
```

**ุฑุงุจุท ุงูุชูุงุตูู:** `/dashboard/leases/{leaseId}`

---

### 3๏ธโฃ ุงูุชูุงุก ุนููุฏ ุงูุตูุงูุฉ (Contract Expiry)
**ุงูุฃููููุฉ:** ๐ง Wrench  
**ุงูููู:** ุฃุตูุฑ (bg-yellow-500)  
**ุงูููุน ูู ุงูููุฏ:** `maintenance`

**ุงูุนููุงู ุงููุชุฑุฌู:**
- ๐ฆ๐ช `ุงูุชูุงุก ุนูุฏ ุงูุตูุงูุฉ`
- ๐ฌ๐ง `Contract Expiry`

**ุงูุชูุงุตูู ุงููุนุฑูุถุฉ:**
```
Vendor: ุงุณู ููุฏู ุงูุฎุฏูุฉ
```

**ูุซุงู:**
```
ุงูุชูุงุก ุนูุฏ ุงูุตูุงูุฉ
Vendor: ุดุฑูุฉ ุงูุตูุงูุฉ ุงููุชูุฏูุฉ
[ุตูุงูุฉ] 12:00
```

**ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
SELECT 
    id, endDate, vendorName
FROM maintenance_contracts
```

**ุฑุงุจุท ุงูุชูุงุตูู:** `/dashboard/maintenance`

---

### 4๏ธโฃ ุดููุงุช ูุณุชุญูุฉ (Cheque Due)
**ุงูุฃููููุฉ:** ๐ณ WalletCards  
**ุงูููู:** ุจููุณุฌู (bg-purple-500)  
**ุงูููุน ูู ุงูููุฏ:** `cheque`

**ุงูุนููุงู ุงููุชุฑุฌู:**
- ๐ฆ๐ช `ุดูู ูุณุชุญู`
- ๐ฌ๐ง `Cheque Due`

**ุงูุชูุงุตูู ุงููุนุฑูุถุฉ:**
```
ููุน ุงูุดูู: ุงุณู ุงููุณุชููุฏ, ุงููุจูุบ: AED XXX, ุดูู ุฑูู ุงูุดูู
```

**ูุซุงู:**
```
ุดูู ูุณุชุญู
ุดุฎุตู: ุดุฑูุฉ ุงูุชูููู ูุงูุชูููุฉ, ุงููุจูุบ: AED 44,444.00, ุดูู 12345
[ุดูู] 10:00
```

**ุฃููุงุน ุงูุดููุงุช:**
- `ุดุฎุตู` - ุฌููุน ุงูุดููุงุช ุญุงููุงู

**ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
SELECT 
    c.id, c.dueDate, c.amount, c.chequeNumber,
    c.payeeType, p.type as payeeCategory,
    COALESCE(p.name, t.name, c.manualPayeeName) as payeeName
FROM cheques c
LEFT JOIN payees p ON c.payeeId = p.id AND c.payeeType = 'saved'
LEFT JOIN tenants t ON c.tenantId = t.id AND c.payeeType = 'tenant'
WHERE c.status NOT IN ('Cleared', 'Cancelled')
```

**ุฑุงุจุท ุงูุชูุงุตูู:** `/dashboard/cheques?search={chequeId}`

---

### 5๏ธโฃ ูุตุฑููุงุช ููุฏูุฉ (Expense Submitted)
**ุงูุฃููููุฉ:** ๐งพ Receipt  
**ุงูููู:** ุฃุญูุฑ (bg-red-500)  
**ุงูููุน ูู ุงูููุฏ:** `expense`

**ุงูุนููุงู ุงููุชุฑุฌู:**
- ๐ฆ๐ช `ูุตุฑูู ููุฏู`
- ๐ฌ๐ง `Expense Submitted`

**ุงูุชูุงุตูู ุงููุนุฑูุถุฉ:**
```
ุงููุฆุฉ: AED XXX by ุงุณู ุงูููุธู
```

**ูุซุงู:**
```
ูุตุฑูู ููุฏู
ุตูุงูุฉ: AED 500 by ุฃุญูุฏ ูุญูุฏ
[ูุตุฑูู] 14:30
```

**ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
SELECT 
    ex.id, ex.createdAt, ex.category, ex.amount,
    emp.name as employeeName
FROM expenses ex
LEFT JOIN employees emp ON ex.employeeId = emp.id
```

**ุฑุงุจุท ุงูุชูุงุตูู:** `/dashboard/expenses`

---

## ๐จ ุฎุฑูุทุฉ ุงูุฃููุงู ูุงูุฃููููุงุช

| ุงูููุน | ุงูุฃููููุฉ | ุงูููู | ุงูููุฏ |
|------|---------|------|------|
| ุฅูุฌุงุฑ | ๐ FileSignature | ุฃุฒุฑู | `bg-blue-500` |
| ุฏูุนุฉ | ๐ฐ Banknote | ุฃุฎุถุฑ | `bg-green-500` |
| ุตูุงูุฉ | ๐ง Wrench | ุฃุตูุฑ | `bg-yellow-500` |
| ุดูู | ๐ณ WalletCards | ุจููุณุฌู | `bg-purple-500` |
| ูุตุฑูู | ๐งพ Receipt | ุฃุญูุฑ | `bg-red-500` |

---

## ๐ ูููู ุจูุงูุงุช ุงูุญุฏุซ (Event Schema)

```typescript
interface CalendarEvent {
    id: string;           // ูุนุฑูู ูุฑูุฏ ููุญุฏุซ
    date: Date;           // ุชุงุฑูุฎ ุงูุญุฏุซ
    title: string;        // ุนููุงู ุงูุญุฏุซ (ุจุงูุฅูุฌููุฒูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
    type: string;         // ููุน ุงูุญุฏุซ: lease, payment, maintenance, cheque, expense
    details: string;      // ุชูุงุตูู ุงูุญุฏุซ (ูุฏ ุชุญุชูู ุนูู ุฃุณุทุฑ ูุชุนุฏุฏุฉ)
    link: string;         // ุฑุงุจุท ูุตูุญุฉ ุงูุชูุงุตูู
}
```

---

## ๐ ุทุฑููุฉ ุงูุนุฑุถ ูู ุงูุชูููู

### ุงูุนุฑุถ ุงูุดูุฑู (Monthly View)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุฃูุชูุจุฑ 2025                        โ
โ  โโโโโโโฌโโโโโโฌโโโโโโฌโโโโโโ         โ
โ  โ  1  โ  2  โ  3  โ  4  โ         โ
โ  โ ๐ข  โ     โ ๐ต๐ฃโ     โ         โ
โ  โโโโโโโผโโโโโโผโโโโโโผโโโโโโค         โ
โ  โ  8  โ  9  โ 10  โ 11  โ         โ
โ  โ ๐ต๐ฃโ     โ     โ ๐ก  โ         โ
โ  โโโโโโโดโโโโโโดโโโโโโดโโโโโโ         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุนุฑุถ ุงูููู ุงููุฎุชุงุฑ
```
ุฃุญุฏุงุซ ูููู 8 ุฃูุชูุจุฑ 2025
โโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ต ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
   ูููุง ุงูุดุงุทุฆ - ูุณุชุฃุฌุฑ: ูุญูุฏ
   ุงููุชุฃุฎุฑุงุช: AED 5,000
   [ุฅูุฌุงุฑ] 00:00

๐ฃ ุดูู ูุณุชุญู
   ุดุฎุตู: ุดุฑูุฉ ุงูุชูููู
   ุงููุจูุบ: AED 44,444.00
   ุดูู 12345
   [ุดูู] 10:00
```

---

## ๐ ุงูุฑูุงุจุท ูุงูุชููู

| ููุน ุงูุญุฏุซ | ุงูุฑุงุจุท |
|-----------|--------|
| ุฅูุฌุงุฑ | `/dashboard/leases/{id}` |
| ุฏูุนุฉ | `/dashboard/leases/{leaseId}` |
| ุตูุงูุฉ | `/dashboard/maintenance` |
| ุดูู | `/dashboard/cheques?search={id}` |
| ูุตุฑูู | `/dashboard/expenses` |

---

## โ๏ธ ุงููููุงุช ุงูุฃุณุงุณูุฉ

### ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- `src/lib/db.ts` - ุฏุงูุฉ `getCalendarEvents()` (ุงูุณุทุฑ 2237)

### ูููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู:
- `src/app/dashboard/calendar/page.tsx` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- `src/app/dashboard/calendar/_components/calendar-client.tsx` - ุงูุนุฑุถ ุงูุชูุงุนูู
- `src/app/dashboard/calendar/_components/custom-calendar.tsx` - ูููู ุงูุชูููู

### ูููุงุช ุงูุชุฑุฌูุฉ:
- `src/contexts/language-context.tsx` - ุฌููุน ุงููุตูุต ุงููุชุฑุฌูุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุชุฃุฎุฑุงุช:** ุชุธูุฑ ููุท ูู ุฃุญุฏุงุซ "ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ" ูููุท ุฅุฐุง ูุงูุช > 0
2. **ุงูุชูุงุฑูุฎ:** ุชุณุชุฎุฏู `date-fns` ูุน ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
3. **ุงููุตูุต ูุชุนุฏุฏุฉ ุงูุฃุณุทุฑ:** ูุชู ุนุฑุถูุง ุจุงุณุชุฎุฏุงู `whitespace-pre-line`
4. **ุงูุชุฑุฌูุฉ ุงูุฏููุงููููุฉ:** ุฌููุน ุงูุนูุงููู ุชุชุฑุฌู ุญุณุจ ูุบุฉ ุงููุณุชุฎุฏู
5. **ุงูููุชุฑุฉ:** ุชุณุชุจุนุฏ ุงูุดููุงุช ุงููุณุญูุจุฉ ุฃู ุงูููุบุงุฉ

---

## ๐ฏ ุฃูุซูุฉ ูุงููุฉ

### ูุซุงู 1: ุญุฏุซ ุณููู ุจุฏูู ูุชุฃุฎุฑุงุช
```
ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
ุดูุฉ ุงูุจุญุฑ - ูุณุชุฃุฌุฑ: ุฃุญูุฏ ุณุนูุฏ ุงููุฑู
[ุฅูุฌุงุฑ] 00:00
โ /dashboard/leases/abc123
```

### ูุซุงู 2: ุญุฏุซ ุชุฌุงุฑู ูุน ูุชุฃุฎุฑุงุช
```
ููุงูุฉ ุนูุฏ ุงูุฅูุฌุงุฑ
ุจุฑุฌ ุงููุฎูู - ุตุงุญุจ ุฑุฎุตุฉ ุชุฌุงุฑูุฉ: ุดุฑูุฉ ุงูุฃูู ููุชุฌุงุฑุฉ
ุงููุชุฃุฎุฑุงุช: AED 12,500
[ุฅูุฌุงุฑ] 00:00
โ /dashboard/leases/def456
```

### ูุซุงู 3: ุดูู ูุณุชุญู
```
ุดูู ูุณุชุญู
ุดุฎุตู: ุดุฑูุฉ ุงูุชูููู ูุงูุชูููุฉ, ุงููุจูุบ: AED 44,444.00, ุดูู A12345
[ุดูู] 10:00
โ /dashboard/cheques?search=xyz789
```

### ูุซุงู 4: ุฏูุนุฉ ูุณุชุญูุฉ
```
ุฏูุนุฉ ูุณุชุญูุฉ
Amount: AED 8,500
[ุฏูุนุฉ] 09:00
โ /dashboard/leases/ghi012
```

### ูุซุงู 5: ุนูุฏ ุตูุงูุฉ ููุชูู
```
ุงูุชูุงุก ุนูุฏ ุงูุตูุงูุฉ
Vendor: ุดุฑูุฉ ุงูุตูุงูุฉ ุงููุชูุฏูุฉ
[ุตูุงูุฉ] 12:00
โ /dashboard/maintenance
```

### ูุซุงู 6: ูุตุฑูู ููุฏู
```
ูุตุฑูู ููุฏู
ุตูุงูุฉ: AED 750 by ุนุจุฏุงููู ูุญูุฏ
[ูุตุฑูู] 14:30
โ /dashboard/expenses
```

---

## ๐ ููุฏุนู ูุงููุณุงุนุฏุฉ

ุฅุฐุง ููุช ุจุญุงุฌุฉ ูุฅุถุงูุฉ ููุน ุญุฏุซ ุฌุฏูุฏ ุฃู ุชุนุฏูู ุทุฑููุฉ ุงูุนุฑุถ:
1. ุนุฏูู ุฏุงูุฉ `getCalendarEvents()` ูู `src/lib/db.ts`
2. ุฃุถู ุงูุชุฑุฌูุงุช ูู `src/contexts/language-context.tsx`
3. ุนุฏูู `eventTypeConfig` ูู `calendar-client.tsx` ุฅุฐุง ููุช ุชุฑูุฏ ุฃููููุฉ/ููู ุฌุฏูุฏ

---

**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ:** ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0
