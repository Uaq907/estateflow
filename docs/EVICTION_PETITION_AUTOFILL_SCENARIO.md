# ุณููุงุฑูู ููุก ูููุฐุฌ ุทูุจ ุงูุฅุฎูุงุก ุงูุชููุงุฆู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุนูุฏ ุฅุถุงูุฉ ุทูุจ ุฅุฎูุงุก ุฌุฏูุฏุ ูุชู ุฑุจุท ุจูุงูุงุช ุงููุณุชุฃุฌุฑ ูุน ููุงุฐุฌ ุทูุจุงุช ุงูุฅุฎูุงุก ุงูุฌุงูุฒุฉ ูููุก ุงููููุฐุฌ ุชููุงุฆูุงู.

---

## ๐ ุชุฏูู ุงูุนูู (Workflow)

### **ุงููุฑุญูุฉ 1: ุงุฎุชูุงุฑ ุงููุณุชุฃุฌุฑ**
๐ **ุงูุตูุญุฉ**: `http://localhost:5000/dashboard/legal/eviction`

1. ุงููุณุชุฎุฏู ููุชุญ ุตูุญุฉ ุทูุจุงุช ุงูุฅุฎูุงุก
2. ูุถุบุท ุนูู ุฒุฑ **"ุฅุถุงูุฉ ุทูุจ ุฅุฎูุงุก ุฌุฏูุฏ"**
3. ูุธูุฑ ูููุฐุฌ ุงุฎุชูุงุฑ ุงููุณุชุฃุฌุฑ ูุน ุฎูุงุฑูู:
   - **ูุณุชุฃุฌุฑ ููุฌูุฏ**: ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - **ุงุณู ุชุฌุงุฑู**: ููุดุฑูุงุช ุฃู ุงูุฃุณูุงุก ุงูุชุฌุงุฑูุฉ

---

### **ุงููุฑุญูุฉ 2: ุฌูุจ ุงูุจูุงูุงุช ุงูุชููุงุฆู**

ุนูุฏ ุงุฎุชูุงุฑ ุงููุณุชุฃุฌุฑุ ูุชู ุฌูุจ ุงูุจูุงูุงุช ุงูุชุงููุฉ ุชููุงุฆูุงู:

#### ๐ **ุจูุงูุงุช ุงููุณุชุฃุฌุฑ:**
```typescript
{
  // ูุนูููุงุช ุดุฎุตูุฉ
  tenantName: string,           // ุงุณู ุงููุณุชุฃุฌุฑ
  tenantId: string,             // ุฑูู ุงููููุฉ
  tenantPhone: string,          // ุฑูู ุงููุงุชู
  tenantEmail: string,          // ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  tenantAddress: string,        // ุงูุนููุงู
  tenantNationality: string,    // ุงูุฌูุณูุฉ
  
  // ุจูุงูุงุช ุงูุดุฑูุฉ (ุฅู ูุฌุฏุช)
  businessName: string,         // ุงูุงุณู ุงูุชุฌุงุฑู
  tradeLicense: string,         // ุฑุฎุตุฉ ุชุฌุงุฑูุฉ
  
  // ูุนูููุงุช ุงูุนูุฏ
  leaseId: string,              // ุฑูู ุงูุนูุฏ
  contractNumber: string,       // ุฑูู ุงูุนูุฏ ุงูููุซู
  contractDate: Date,           // ุชุงุฑูุฎ ุฅุจุฑุงู ุงูุนูุฏ
  startDate: Date,              // ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุฅูุฌุงุฑ
  endDate: Date,                // ุชุงุฑูุฎ ููุงูุฉ ุงูุฅูุฌุงุฑ
  
  // ูุนูููุงุช ุงูุนูุงุฑ
  propertyName: string,         // ุงุณู ุงูุนูุงุฑ
  propertyAddress: string,      // ุนููุงู ุงูุนูุงุฑ
  unitNumber: string,           // ุฑูู ุงููุญุฏุฉ
  propertyType: string,         // ููุน ุงูุนูุงุฑ (ูููุงุ ุดูุฉุ ุฅูุฎ)
  
  // ุงููุนูููุงุช ุงููุงููุฉ
  rentAmount: number,           // ูููุฉ ุงูุฅูุฌุงุฑ ุงูุณูููุฉ
  totalArrears: number,         // ุงููุจูุบ ุงููุชุฃุฎุฑ
  unpaidMonths: number,         // ุนุฏุฏ ุงูุฃุดูุฑ ุงููุชุฃุฎุฑุฉ
  lastPaymentDate: Date,        // ุชุงุฑูุฎ ุขุฎุฑ ุฏูุนุฉ
  
  // ูุนูููุงุช ุงููุงูู
  ownerName: string,            // ุงุณู ุงููุงูู
  ownerId: string,              // ูููุฉ ุงููุงูู
  ownerPhone: string,           // ูุงุชู ุงููุงูู
  ownerEmail: string,           // ุงูููู ุงููุงูู
  ownerAddress: string          // ุนููุงู ุงููุงูู
}
```

---

### **ุงููุฑุญูุฉ 3: ุฅูุดุงุก ุทูุจ ุงูุฅุฎูุงุก**

ุจุนุฏ ุฌูุจ ุงูุจูุงูุงุช:

1. ูููุฃ ุงููุณุชุฎุฏู ุงูุญููู ุงูุฅุถุงููุฉ:
   - ุณุจุจ ุงูุฅุฎูุงุก
   - ุงูุชูุงุตูู ุงูุฅุถุงููุฉ
   - ุงููุณุชูุฏุงุช ุงููุฑููุฉ

2. ูุถุบุท ุนูู ุฒุฑ **"ุฅูุดุงุก ุทูุจ ุฅุฎูุงุก"**

3. ูุชู ุญูุธ ุงูุทูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

### **ุงููุฑุญูุฉ 4: ูุชุญ ูููุฐุฌ ุทูุจ ุงูุฅุฎูุงุก**
๐ **ุงูุตูุญุฉ**: `http://localhost:5000/dashboard/legal/petition-templates`

ุนูุฏ ุงูุถุบุท ุนูู **"ูุชุญ ูููุฐุฌ ุงูุทูุจ"** ุฃู **"ุฅูุดุงุก ุงููุณุชูุฏ"**:

1. ูุชู ููู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ููุงุฐุฌ ุงูุทูุจุงุช
2. ูุชู ุชูุฑูุฑ ุงูุจูุงูุงุช ุนุจุฑ **URL Parameters** ุฃู **Session Storage**
3. ูุชู ูุชุญ ูุญุฑุฑ ุงููููุฐุฌ ุชููุงุฆูุงู
4. ูุชู ููุก ุฌููุน ุงูู **Placeholders** ุจุงูุจูุงูุงุช ุงููุฌููุจุฉ

---

## ๐ Placeholders ูู ุงููููุฐุฌ

ุงููููุฐุฌ ูุญุชูู ุนูู placeholders ูุชู ุงุณุชุจุฏุงููุง ุชููุงุฆูุงู:

### **ูุนูููุงุช ุงููุฏุนู (ุงููุงูู):**
- `[ุงุณู_ุงููุฏุนู]` โ ุงุณู ุงููุงูู
- `[ูููุฉ_ุงููุฏุนู]` โ ุฑูู ูููุฉ ุงููุงูู
- `[ุนููุงู_ุงููุฏุนู]` โ ุนููุงู ุงููุงูู
- `[ูุงุชู_ุงููุฏุนู]` โ ุฑูู ูุงุชู ุงููุงูู
- `[ุงูููู_ุงููุฏุนู]` โ ุจุฑูุฏ ุงููุงูู ุงูุฅููุชุฑููู

### **ูุนูููุงุช ุงููุฏุนู ุนููู (ุงููุณุชุฃุฌุฑ):**
- `[ุงุณู_ุงููุฏุนู_ุนููู]` โ ุงุณู ุงููุณุชุฃุฌุฑ
- `[ูููุฉ_ุงููุฏุนู_ุนููู]` โ ุฑูู ุงููููุฉ
- `[ุนููุงู_ุงููุฏุนู_ุนููู]` โ ุนููุงู ุงููุณุชุฃุฌุฑ
- `[ูุงุชู_ุงููุฏุนู_ุนููู]` โ ุฑูู ุงููุงุชู
- `[ุงูููู_ุงููุฏุนู_ุนููู]` โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `[ุฌูุณูุฉ_ุงููุฏุนู_ุนููู]` โ ุฌูุณูุฉ ุงููุณุชุฃุฌุฑ

### **ูุนูููุงุช ุงูุนูุฏ:**
- `[ุฑูู_ุงูุนูุฏ]` โ ุฑูู ุงูุนูุฏ ุงูููุซู
- `[ุชุงุฑูุฎ_ุงูุนูุฏ]` โ ุชุงุฑูุฎ ุฅุจุฑุงู ุงูุนูุฏ
- `[ุชุงุฑูุฎ_ุงูุจุฏุงูุฉ]` โ ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุฅูุฌุงุฑ
- `[ุชุงุฑูุฎ_ุงูููุงูุฉ]` โ ุชุงุฑูุฎ ููุงูุฉ ุงูุฅูุฌุงุฑ
- `[ูููุฉ_ุงูุงูุฌุงุฑ]` โ ุงููุจูุบ ุงูุณููู ููุฅูุฌุงุฑ

### **ูุนูููุงุช ุงูุนูุงุฑ:**
- `[ุงุณู_ุงูุนูุงุฑ]` โ ุงุณู ุงูุนูุงุฑ ููุตูู
- `[ุนููุงู_ุงูุนูุงุฑ]` โ ุงููููุน ุงููุงูู
- `[ุฑูู_ุงููุญุฏุฉ]` โ ุฑูู ุงูุดูุฉ/ุงููููุง

### **ุงููุนูููุงุช ุงููุงููุฉ:**
- `[ุงููุจูุบ_ุงููุชุฃุฎุฑ]` โ ุฅุฌูุงูู ุงููุชุฃุฎุฑุงุช
- `[ุนุฏุฏ_ุงูุงุดูุฑ_ุงููุชุฃุฎุฑุฉ]` โ ุนุฏุฏ ุงูุฃุดูุฑ
- `[ุชุงุฑูุฎ_ุงุฎุฑ_ุฏูุนุฉ]` โ ุชุงุฑูุฎ ุขุฎุฑ ุฏูุนุฉ

### **ูุนูููุงุช ุฅุถุงููุฉ:**
- `[ุชุงุฑูุฎ_ุงูููู]` โ ุชุงุฑูุฎ ุชูุฏูู ุงูุทูุจ
- `[ุณุจุจ_ุงูุงุฎูุงุก]` โ ุงูุณุจุจ ุงููุญุฏุฏ
- `[ุชูุงุตูู_ุงุถุงููุฉ]` โ ุฃู ููุงุญุธุงุช

---

## ๐ง ุงูุชุทุจูู ุงูุชููู

### **1. ุชูุฑูุฑ ุงูุจูุงูุงุช ุจูู ุงูุตูุญุงุช**

#### **ุงูุทุฑููุฉ ุงูุฃููู: URL Parameters**
```typescript
// ูู ุตูุญุฉ ุงูุฅุฎูุงุก
const redirectToPetitionTemplate = (evictionData) => {
  const params = new URLSearchParams({
    type: 'eviction',
    evictionId: evictionData.id,
    autoFill: 'true'
  });
  
  router.push(`/dashboard/legal/petition-templates?${params.toString()}`);
};
```

#### **ุงูุทุฑููุฉ ุงูุซุงููุฉ: Session Storage**
```typescript
// ุญูุธ ุงูุจูุงูุงุช
sessionStorage.setItem('evictionAutoFillData', JSON.stringify(evictionData));

// ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช ูู ุตูุญุฉ ุงูููุงุฐุฌ
const savedData = JSON.parse(sessionStorage.getItem('evictionAutoFillData'));
```

---

### **2. ููุก ุงููููุฐุฌ ุงูุชููุงุฆู**

```typescript
function autoFillPetitionTemplate(template: string, data: EvictionData): string {
  let filledTemplate = template;
  
  // ุงุณุชุจุฏุงู placeholders ุจุงูุจูุงูุงุช ุงููุนููุฉ
  const replacements = {
    '[ุงุณู_ุงููุฏุนู]': data.ownerName,
    '[ูููุฉ_ุงููุฏุนู]': data.ownerId,
    '[ุนููุงู_ุงููุฏุนู]': data.ownerAddress,
    '[ูุงุชู_ุงููุฏุนู]': data.ownerPhone,
    '[ุงูููู_ุงููุฏุนู]': data.ownerEmail,
    
    '[ุงุณู_ุงููุฏุนู_ุนููู]': data.tenantName,
    '[ูููุฉ_ุงููุฏุนู_ุนููู]': data.tenantId,
    '[ุนููุงู_ุงููุฏุนู_ุนููู]': data.tenantAddress,
    '[ูุงุชู_ุงููุฏุนู_ุนููู]': data.tenantPhone,
    '[ุงูููู_ุงููุฏุนู_ุนููู]': data.tenantEmail,
    '[ุฌูุณูุฉ_ุงููุฏุนู_ุนููู]': data.tenantNationality,
    
    '[ุฑูู_ุงูุนูุฏ]': data.contractNumber,
    '[ุชุงุฑูุฎ_ุงูุนูุฏ]': formatDate(data.contractDate),
    '[ุชุงุฑูุฎ_ุงูุจุฏุงูุฉ]': formatDate(data.startDate),
    '[ุชุงุฑูุฎ_ุงูููุงูุฉ]': formatDate(data.endDate),
    '[ูููุฉ_ุงูุงูุฌุงุฑ]': data.rentAmount.toLocaleString(),
    
    '[ุงุณู_ุงูุนูุงุฑ]': data.propertyName,
    '[ุนููุงู_ุงูุนูุงุฑ]': data.propertyAddress,
    '[ุฑูู_ุงููุญุฏุฉ]': data.unitNumber,
    
    '[ุงููุจูุบ_ุงููุชุฃุฎุฑ]': data.totalArrears.toLocaleString(),
    '[ุนุฏุฏ_ุงูุงุดูุฑ_ุงููุชุฃุฎุฑุฉ]': data.unpaidMonths.toString(),
    '[ุชุงุฑูุฎ_ุงูููู]': formatDate(new Date()),
    '[ุณุจุจ_ุงูุงุฎูุงุก]': data.reason
  };
  
  // ุชุทุจูู ุงูุงุณุชุจุฏุงูุงุช
  Object.entries(replacements).forEach(([placeholder, value]) => {
    filledTemplate = filledTemplate.replace(new RegExp(placeholder, 'g'), value);
  });
  
  return filledTemplate;
}
```

---

### **3. ูุงุฌูุฉ ุงููุณุชุฎุฏู**

ูู ุตูุญุฉ ุงูุฅุฎูุงุกุ ุฅุถุงูุฉ ุฒุฑ:
```tsx
<Button
  onClick={() => redirectToPetitionTemplate(evictionData)}
  variant="default"
>
  <FileText className="mr-2 h-4 w-4" />
  ุฅูุดุงุก ูููุฐุฌ ุทูุจ ุงูุฅุฎูุงุก
</Button>
```

---

## ๐ ูุซุงู ุนููู

### **ุงูุณููุงุฑูู:**
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงููุณุชุฃุฌุฑ **"ูุญูุฏ ุฃุญูุฏ"**
2. ูุชู ุฌูุจ ุจูุงูุงุชู: ุนูุงุฑ "ูููุง ุงูุดุงุทุฆ" - ูุชุฃุฎุฑุงุช 15,000 ุฏุฑูู
3. ูุถุบุท ุนูู **"ุฅูุดุงุก ูููุฐุฌ ุทูุจ ุงูุฅุฎูุงุก"**
4. ูุชู ูุชุญ ุตูุญุฉ ุงูููุงุฐุฌ ูุน ููุก ุชููุงุฆู:

#### **ูุจู ุงูููุก:**
```
ุงููุฏุนู: [ุงุณู_ุงููุฏุนู]
ุงููุณุชุฃุฌุฑ: [ุงุณู_ุงููุฏุนู_ุนููู]
ุงูุนูุงุฑ: [ุงุณู_ุงูุนูุงุฑ]
ุงููุจูุบ ุงููุชุฃุฎุฑ: [ุงููุจูุบ_ุงููุชุฃุฎุฑ] ุฏุฑูู
```

#### **ุจุนุฏ ุงูููุก ุงูุชููุงุฆู:**
```
ุงููุฏุนู: ุนุจุฏุงููู ูุญูุฏ ุงูุดุงูุณู
ุงููุณุชุฃุฌุฑ: ูุญูุฏ ุฃุญูุฏ
ุงูุนูุงุฑ: ูููุง ุงูุดุงุทุฆ - ุฑูู ุงููุญุฏุฉ 12
ุงููุจูุบ ุงููุชุฃุฎุฑ: 15,000 ุฏุฑูู
```

---

## โ ููุงุฆุฏ ูุฐุง ุงูุณููุงุฑูู

1. โ **ุชูููุฑ ุงูููุช**: ูุง ุญุงุฌุฉ ูููุณุฎ ูุงููุตู ุงููุฏูู
2. โ **ุฏูุฉ ุฃุนูู**: ุชูููู ุงูุฃุฎุทุงุก ุงูุจุดุฑูุฉ
3. โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู**: ุณูุฑ ุนูู ุณูุณ
4. โ **ุชูุญูุฏ ุงููุณุชูุฏุงุช**: ุถูุงู ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
5. โ **ุณุฑุนุฉ ูู ุงููุนุงูุฌุฉ**: ุฅูุดุงุก ุงููุณุชูุฏุงุช ูู ุซูุงูู

---

## ๐ฏ ุงูุฎุทูุงุช ุงููุงุฏูุฉ ููุชุทุจูู

1. โ **ุฅุถุงูุฉ ุฒุฑ "ุฅูุดุงุก ูููุฐุฌ"** ูู ุตูุญุฉ ุทูุจุงุช ุงูุฅุฎูุงุก
2. โ **ุชุทููุฑ ุฏุงูุฉ ุงูููุก ุงูุชููุงุฆู** ูู ุตูุญุฉ ุงูููุงุฐุฌ
3. โ **ุฑุจุท ุงูุจูุงูุงุช ุจูู ุงูุตูุญุชูู** ุนุจุฑ URL ุฃู Session Storage
4. โ **ุงุฎุชุจุงุฑ ุงูุณููุงุฑูู ุจุงููุงูู** ูุน ุจูุงูุงุช ุญููููุฉ
5. โ **ุฅุถุงูุฉ ุชุฑุฌูุงุช ุนุฑุจูุฉ** ูุฌููุน ุงูุนูุงุตุฑ

---

## ๐ ููุงุญุธุงุช ูููุฉ

- โ ุงููููุฐุฌ ูุงุจู ููุชุนุฏูู ุจุนุฏ ุงูููุก ุงูุชููุงุฆู
- โ ูููู ุญูุธ ุงููููุฐุฌ ุงููุนุฏู ููุณุฎุฉ ุฌุฏูุฏุฉ
- โ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูุฌุจ ุงูุชุนุงูู ูุนูุง ุจุฃูุงู
- โ ูุฌุจ ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช ูุจู ุงูููุก

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2025-10-08  
**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-08
